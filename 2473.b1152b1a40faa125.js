"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2473],{87345:(B,v,s)=>{s.d(v,{d:()=>F});var t=s(94650),e=s(90603),c=s(45945),u=s(36895);function b(P,y){if(1&P&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&P){const p=t.oxw().$implicit;t.xp6(1),t.Oqu(p.selectionSeq)}}function R(P,y){if(1&P&&(t.TgZ(0,"ion-item"),t._UZ(1,"ion-checkbox",7),t.TgZ(2,"ion-label"),t._uU(3),t.YNc(4,b,2,1,"span",8),t.qZA()()),2&P){const p=y.$implicit;t.xp6(1),t.s9C("value",p.AID),t.s9C("id",p.selectionSeq),t.xp6(2),t.hij("",p.columnName," "),t.xp6(1),t.Q6J("ngIf",-1!=p.selectionSeq)}}let F=(()=>{class P{constructor(p,I){this.modalCtrl=p,this.reportService=I,this.counterForSequence=0,this.listForHeaderSelection=[],this.dataToReturnForHeaderSelection=[],this.sequenceOfSelection=[]}ngOnInit(){this.reportService.getAllColumnsForReport(this.dataToTakeAsInput).subscribe(p=>{p.forEach(I=>{I.selectionSeq=-1,this.listForHeaderSelection.push(I)})})}cancel(){return this.modalCtrl.dismiss(null,"cancel")}confirm(){let p=[];return Array.from(document.getElementsByTagName("ion-checkbox")).forEach(I=>{I.checked&&p.push({value:I.value,serial:I.id})}),p=p.sort((I,C)=>Number.parseInt(C.serial)-Number.parseInt(I.serial)),p.forEach(I=>{this.dataToReturnForHeaderSelection.push(I.value)}),this.modalCtrl.dismiss(this.dataToReturnForHeaderSelection,"confirm")}change(p){let I=[];if(Array.from(document.getElementsByTagName("ion-checkbox")).forEach(C=>{C.checked&&I.push(C)}),1==p.detail.checked)this.listForHeaderSelection.find(D=>D.AID==p.target.value).selectionSeq=I.length;else{let C=this.listForHeaderSelection.find(L=>L.AID==p.target.value),D=[];D=this.listForHeaderSelection.filter(L=>L.selectionSeq>C.selectionSeq),D.forEach(L=>{L.selectionSeq-=1}),C.selectionSeq=-1}}}return P.\u0275fac=function(p){return new(p||P)(t.Y36(e.IN),t.Y36(c.r))},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-report-column-selector"]],inputs:{dataToTakeAsInput:"dataToTakeAsInput"},decls:13,vars:2,consts:[["slot","start"],["color","medium",3,"click"],["slot","end"],[3,"strong","click"],[1,"ion-padding"],["lines","none",3,"ionChange"],[4,"ngFor","ngForOf"],["slot","start",3,"value","id"],[4,"ngIf"]],template:function(p,I){1&p&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),t.NdJ("click",function(){return I.cancel()}),t._uU(4,"Cancel"),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"Choose Columns And Sequence"),t.qZA(),t.TgZ(7,"ion-buttons",2)(8,"ion-button",3),t.NdJ("click",function(){return I.confirm()}),t._uU(9,"Confirm"),t.qZA()()()(),t.TgZ(10,"ion-content",4)(11,"ion-list",5),t.NdJ("ionChange",function(D){return I.change(D)}),t.YNc(12,R,5,4,"ion-item",6),t.qZA()()),2&p&&(t.xp6(8),t.Q6J("strong",!0),t.xp6(4),t.Q6J("ngForOf",I.listForHeaderSelection))},dependencies:[u.sg,u.O5,e.YG,e.Sm,e.nz,e.W2,e.Gu,e.Ie,e.Q$,e.q_,e.wd,e.sr,e.w],styles:["ion-title[_ngcontent-%COMP%]{display:flex;text-align:center}ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:flex;flex-direction:row}ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border:solid 2px red;color:#fff;background:rgb(6,243,6);margin-left:50px;display:flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:50%;border:2px solid white;padding:2px;position:absolute;right:50px}"]}),P})()},45945:(B,v,s)=>{s.d(v,{r:()=>F});var t=s(15861),e=s(36895),c=s(591),u=s(88075),b=s(94650),R=s(80529);let F=(()=>{class P extends u.P{constructor(p){super(),this.http=p,this.reportToDisplay=new c.X({id:"",reportname:""}),this.activeReport=this.reportToDisplay.asObservable(),this.reportToDisplayArray=new c.X([{id:"",reportname:""}]),this.activeReportArray=this.reportToDisplayArray.asObservable()}changeActiveReportFunction({id:p,reportname:I}){this.reportToDisplay.next({id:p,reportname:I})}changeActiveReportArrayFunction(p){console.log("Changing Reports"),this.reportToDisplayArray.next(p)}getStaticReports(p,I,C){return this.http.get(this.BASE_URL+"api/ReportApi/getAllMappedReportByUserid?Userid="+C+"&Key="+p+"&con="+I)}plotfilters(p,I,C,D,L,w,K,H,V,N){return this.http.get(this.BASE_URL+"api/ReportApi/getReportFilterDetailsByReportidAndUserid?Userid="+D+"&Reportid="+I+"&farmId="+L+"&chcId="+w+"&ccId="+K+"&farmerId="+H+"&userType="+V+"&organization="+N+"&Key="+p+"&con="+C)}plotDataTable(p,I,C,D,L,w){return this.http.get(this.BASE_URL+"api/ReportAPI/getReportDataByReportidAndUserid?Userid="+p+"&Reportid="+I+"&FilterDetails="+C+"&organization="+w+"&Key="+D+"&con="+L)}getStaticProductsFromRegister(){return this.http.get("https://localhost:44336/api/ManualProducts/getManualProducts")}transformDateToYYYYMMdd(p){return new e.uU("en-US").transform(p,"yyyy-MM-dd")}getAllColumnsForReport(p){return this.http.get(this.BASE_URL+"api/ReportApi/getAllColumnsForReport?ReportID="+p+"&Key="+this.key+"&con="+this.DatabaseCode)}updateColumnDetailsForUser(p,I){var C=this;return(0,t.Z)(function*(){const D=C.BASE_URL+"api/ReportApi/updateReportColumnDetailsByUserID?UserId="+C.getFarmerUserID()+"&ReportID="+p+"&columnIDs="+I+"&Key="+C.key+"&con="+C.DatabaseCode,L=new FormData;let w=0;return yield C.http.post(D,L).toPromise().then(K=>{w=K.length}),w})()}getFilterDropDownValues(p,I){var C=this;return(0,t.Z)(function*(){let D=0,L=0;switch(p.filterName){case"Chilling Center":break;case"Collection Center":D=I;break;case"Farmer ID":L=I;break;default:return}let K=[];const H=C.BASE_URL+"api/ReportApi/getReportFilterDetailsByFilterId?Userid="+C.getFarmerUserID()+"&FilterId="+p.filterId+"&farmId="+C.getFarmID()+"&chcId="+D+"&ccId="+L+"&farmerId=0&userType="+C.getUserType()+"&organization=0&Key="+C.key+"&con="+C.DatabaseCode;return yield C.http.get(H).toPromise().then(V=>{K=V}),K})()}}return P.\u0275fac=function(p){return new(p||P)(b.LFG(R.eN))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},61430:(B,v,s)=>{s.d(v,{H:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableAddItemTemplate",""]]}),c})()},23559:(B,v,s)=>{s.d(v,{b:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableCloseButtonTemplate",""]]}),c})()},74741:(B,v,s)=>{s.d(v,{G:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableFooterTemplate",""]]}),c})()},64131:(B,v,s)=>{s.d(v,{p:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableGroupEndTemplate",""]]}),c})()},19695:(B,v,s)=>{s.d(v,{A:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableGroupTemplate",""]]}),c})()},84537:(B,v,s)=>{s.d(v,{V:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableHeaderTemplate",""]]}),c})()},55495:(B,v,s)=>{s.d(v,{N:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableIconTemplate",""]]}),c})()},99105:(B,v,s)=>{s.d(v,{o:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableItemEndTemplate",""]]}),c})()},49618:(B,v,s)=>{s.d(v,{u:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableItemIconTemplate",""]]}),c})()},48919:(B,v,s)=>{s.d(v,{c:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableItemTemplate",""]]}),c})()},94065:(B,v,s)=>{s.d(v,{s:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableMessageTemplate",""]]}),c})()},24369:(B,v,s)=>{s.d(v,{z:()=>de});var t=s(90603),e=s(94650),c=s(36895),u=s(24006);const b=["searchbarComponent"];function R(o,g){if(1&o&&e._UZ(0,"span",12),2&o){const i=e.oxw(2);e.Q6J("ngTemplateOutlet",i.selectComponent.closeButtonTemplate)}}function F(o,g){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.selectComponent.closeButtonText," ")}}function P(o,g){if(1&o&&e._UZ(0,"span",12),2&o){const i=e.oxw(2);e.Q6J("ngTemplateOutlet",i.selectComponent.titleTemplate)}}function y(o,g){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.selectComponent.label," ")}}function p(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"ion-toolbar",9)(1,"ion-buttons",10)(2,"ion-button",11),e.NdJ("click",function(){e.CHM(i);const E=e.oxw();return e.KtG(E.selectComponent._close())}),e.YNc(3,R,1,1,"span",1),e.YNc(4,F,2,1,"span",2),e.qZA()(),e.TgZ(5,"ion-title"),e.YNc(6,P,1,1,"span",1),e.YNc(7,y,2,1,"span",2),e.qZA()()}if(2&o){const i=e.oxw();e.Q6J("color",i.selectComponent.headerColor?i.selectComponent.headerColor:null),e.xp6(1),e.Q6J("slot",i.selectComponent.closeButtonSlot),e.xp6(2),e.Q6J("ngIf",i.selectComponent.closeButtonTemplate),e.xp6(1),e.Q6J("ngIf",!i.selectComponent.closeButtonTemplate),e.xp6(2),e.Q6J("ngIf",i.selectComponent.titleTemplate),e.xp6(1),e.Q6J("ngIf",!i.selectComponent.titleTemplate)}}function I(o,g){if(1&o&&e._UZ(0,"div",12),2&o){const i=e.oxw();e.Q6J("ngTemplateOutlet",i.selectComponent.headerTemplate)}}function C(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"ion-searchbar",15,16),e.NdJ("ngModelChange",function(E){e.CHM(i);const Q=e.oxw(2);return e.KtG(Q.selectComponent._searchText=E)})("ionChange",function(){e.CHM(i);const E=e.oxw(2);return e.KtG(E.selectComponent._filterItems())})("ionClear",function(){e.CHM(i);const E=e.oxw(2);return e.KtG(E.selectComponent._onSearchbarClear())}),e.qZA()}if(2&o){const i=e.oxw(2);e.Q6J("ngModel",i.selectComponent._searchText)("placeholder",i.selectComponent.searchPlaceholder)("debounce",i.selectComponent.searchDebounce)}}function D(o,g){if(1&o&&(e.TgZ(0,"div",17),e._UZ(1,"div",12),e.qZA()),2&o){const i=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i.selectComponent.messageTemplate)}}function L(o,g){if(1&o&&(e.TgZ(0,"ion-toolbar"),e.YNc(1,C,2,3,"ion-searchbar",13),e.YNc(2,D,2,1,"div",14),e.qZA()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.selectComponent.canSearch),e.xp6(1),e.Q6J("ngIf",i.selectComponent.messageTemplate)}}function w(o,g){1&o&&(e.TgZ(0,"div",18),e._UZ(1,"div",19)(2,"ion-spinner"),e.qZA())}const K=function(o){return{group:o}};function H(o,g){if(1&o&&e._UZ(0,"span",26),2&o){const i=e.oxw(2).$implicit,r=e.oxw(2);e.Q6J("ngTemplateOutlet",r.selectComponent.groupTemplate)("ngTemplateOutletContext",e.VKq(2,K,i))}}function V(o,g){if(1&o&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&o){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",i.text," ")}}function N(o,g){if(1&o&&(e.TgZ(0,"div",27),e._UZ(1,"div",26),e.qZA()),2&o){const i=e.oxw(2).$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",r.selectComponent.groupEndTemplate)("ngTemplateOutletContext",e.VKq(2,K,i))}}function Y(o,g){if(1&o&&(e.TgZ(0,"ion-item-divider",9),e.YNc(1,H,1,4,"span",24),e.YNc(2,V,2,1,"ion-label",2),e.YNc(3,N,2,4,"div",25),e.qZA()),2&o){const i=e.oxw(3);e.Q6J("color",i.selectComponent.groupColor?i.selectComponent.groupColor:null),e.xp6(1),e.Q6J("ngIf",i.selectComponent.groupTemplate),e.xp6(1),e.Q6J("ngIf",!i.selectComponent.groupTemplate),e.xp6(1),e.Q6J("ngIf",i.selectComponent.groupEndTemplate)}}const J=function(o,g){return{item:o,isItemSelected:g}};function m(o,g){if(1&o&&e._UZ(0,"span",26),2&o){const i=e.oxw().$implicit,r=e.oxw(3);e.Q6J("ngTemplateOutlet",r.selectComponent.itemTemplate)("ngTemplateOutletContext",e.WLB(2,J,i,r.selectComponent._isItemSelected(i)))}}function h(o,g){if(1&o&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&o){const i=e.oxw().$implicit,r=e.oxw(3);e.xp6(1),e.hij(" ",r.selectComponent._formatItem(i)," ")}}function l(o,g){if(1&o&&(e.TgZ(0,"div",27),e._UZ(1,"div",26),e.qZA()),2&o){const i=e.oxw().$implicit,r=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",r.selectComponent.itemEndTemplate)("ngTemplateOutletContext",e.WLB(2,J,i,r.selectComponent._isItemSelected(i)))}}function _(o,g){if(1&o&&e._UZ(0,"span",26),2&o){const i=e.oxw().$implicit,r=e.oxw(3);e.Q6J("ngTemplateOutlet",r.selectComponent.itemIconTemplate)("ngTemplateOutletContext",e.WLB(2,J,i,r.selectComponent._isItemSelected(i)))}}function T(o,g){if(1&o&&e._UZ(0,"ion-icon",31),2&o){const i=e.oxw().$implicit,r=e.oxw(3);e.Q6J("name",r.selectComponent._isItemSelected(i)?"checkmark-circle":"radio-button-off")("color",r.selectComponent._isItemSelected(i)?"primary":null)("slot",r.selectComponent.itemIconSlot)}}function M(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"ion-button",32),e.NdJ("click",function(E){e.CHM(i);const Q=e.oxw().$implicit,G=e.oxw(3);return e.KtG(G.selectComponent._saveItem(E,Q))}),e._UZ(1,"ion-icon",33),e.qZA()}}function O(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"ion-button",32),e.NdJ("click",function(E){e.CHM(i);const Q=e.oxw().$implicit,G=e.oxw(3);return e.KtG(G.selectComponent._deleteItemClick(E,Q))}),e._UZ(1,"ion-icon",34),e.qZA()}}const Z=function(o,g){return{"ionic-selectable-item-is-selected":o,"ionic-selectable-item-is-disabled":g}};function W(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"ion-item",28),e.NdJ("click",function(){const Q=e.CHM(i).$implicit,G=e.oxw(3);return e.KtG(G.selectComponent._select(Q))}),e.YNc(1,m,1,5,"span",24),e.YNc(2,h,2,1,"ion-label",2),e.YNc(3,l,2,5,"div",25),e.YNc(4,_,1,5,"span",24),e.YNc(5,T,1,3,"ion-icon",29),e.YNc(6,M,2,0,"ion-button",30),e.YNc(7,O,2,0,"ion-button",30),e.qZA()}if(2&o){const i=g.$implicit,r=e.oxw(3);e.Q6J("ngClass",e.WLB(9,Z,r.selectComponent._isItemSelected(i),r.selectComponent._isItemDisabled(i)))("disabled",r.selectComponent._isItemDisabled(i)),e.xp6(1),e.Q6J("ngIf",r.selectComponent.itemTemplate),e.xp6(1),e.Q6J("ngIf",!r.selectComponent.itemTemplate),e.xp6(1),e.Q6J("ngIf",r.selectComponent.itemEndTemplate),e.xp6(1),e.Q6J("ngIf",r.selectComponent.itemIconTemplate),e.xp6(1),e.Q6J("ngIf",!r.selectComponent.itemIconTemplate),e.xp6(1),e.Q6J("ngIf",r.selectComponent.canSaveItem),e.xp6(1),e.Q6J("ngIf",r.selectComponent.canDeleteItem)}}function k(o,g){if(1&o&&(e.TgZ(0,"ion-item-group",22),e.YNc(1,Y,4,4,"ion-item-divider",0),e.YNc(2,W,8,12,"ion-item",23),e.qZA()),2&o){const i=g.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.selectComponent._hasGroups),e.xp6(1),e.Q6J("ngForOf",i.items)}}function x(o,g){if(1&o&&(e.TgZ(0,"ion-list",20),e.YNc(1,k,3,2,"ion-item-group",21),e.qZA()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.selectComponent._filteredGroups)}}function A(o,g){if(1&o&&e._UZ(0,"span",12),2&o){const i=e.oxw(2);e.Q6J("ngTemplateOutlet",i.selectComponent.searchFailTemplate)}}function n(o,g){if(1&o&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&o){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.selectComponent.searchFailText," ")}}function a(o,g){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,A,1,1,"span",1),e.YNc(2,n,2,1,"div",35),e.qZA()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.selectComponent.searchFailTemplate),e.xp6(1),e.Q6J("ngIf",!i.selectComponent.searchFailTemplate)}}function f(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"ion-infinite-scroll",37),e.NdJ("ionInfinite",function(){e.CHM(i);const E=e.oxw();return e.KtG(E.selectComponent._getMoreItems())}),e._UZ(1,"ion-infinite-scroll-content"),e.qZA()}if(2&o){const i=e.oxw();e.Q6J("disabled",!i.selectComponent.hasInfiniteScroll)}}function d(o,g){if(1&o&&(e.TgZ(0,"ion-item-divider",9),e._uU(1),e.qZA()),2&o){const i=g.$implicit,r=e.oxw(2);e.Q6J("color",r.selectComponent.groupColor?r.selectComponent.groupColor:null),e.xp6(1),e.hij(" ",i," ")}}function S(o,g){if(1&o&&e._UZ(0,"span",26),2&o){const i=e.oxw().$implicit,r=e.oxw(2);e.Q6J("ngTemplateOutlet",r.selectComponent.itemTemplate)("ngTemplateOutletContext",e.WLB(2,J,i,r.selectComponent._isItemSelected(i)))}}function U(o,g){if(1&o&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&o){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.hij(" ",r.selectComponent._formatItem(i)," ")}}function j(o,g){if(1&o&&(e.TgZ(0,"div",27),e._UZ(1,"div",26),e.qZA()),2&o){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",r.selectComponent.itemEndTemplate)("ngTemplateOutletContext",e.WLB(2,J,i,r.selectComponent._isItemSelected(i)))}}function $(o,g){if(1&o&&e._UZ(0,"span",26),2&o){const i=e.oxw().$implicit,r=e.oxw(2);e.Q6J("ngTemplateOutlet",r.selectComponent.itemIconTemplate)("ngTemplateOutletContext",e.WLB(2,J,i,r.selectComponent._isItemSelected(i)))}}function z(o,g){if(1&o&&e._UZ(0,"ion-icon",31),2&o){const i=e.oxw().$implicit,r=e.oxw(2);e.Q6J("name",r.selectComponent._isItemSelected(i)?"checkmark-circle":"radio-button-off")("color",r.selectComponent._isItemSelected(i)?"primary":null)("slot",r.selectComponent.itemIconSlot)}}function q(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"ion-button",32),e.NdJ("click",function(E){e.CHM(i);const Q=e.oxw().$implicit,G=e.oxw(2);return e.KtG(G.selectComponent._saveItem(E,Q))}),e._UZ(1,"ion-icon",41),e.qZA()}}function X(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"ion-button",32),e.NdJ("click",function(E){e.CHM(i);const Q=e.oxw().$implicit,G=e.oxw(2);return e.KtG(G.selectComponent._deleteItemClick(E,Q))}),e._UZ(1,"ion-icon",42),e.qZA()}}function ee(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"ion-item",28),e.NdJ("click",function(){const Q=e.CHM(i).$implicit,G=e.oxw(2);return e.KtG(G.selectComponent._select(Q))}),e.YNc(1,S,1,5,"span",24),e.YNc(2,U,2,1,"ion-label",2),e.YNc(3,j,2,5,"div",25),e.YNc(4,$,1,5,"span",24),e.YNc(5,z,1,3,"ion-icon",29),e.YNc(6,q,2,0,"ion-button",30),e.YNc(7,X,2,0,"ion-button",30),e.qZA()}if(2&o){const i=g.$implicit,r=e.oxw(2);e.Q6J("ngClass",e.WLB(9,Z,r.selectComponent._isItemSelected(i),r.selectComponent._isItemDisabled(i)))("disabled",r.selectComponent._isItemDisabled(i)),e.xp6(1),e.Q6J("ngIf",r.selectComponent.itemTemplate),e.xp6(1),e.Q6J("ngIf",!r.selectComponent.itemTemplate),e.xp6(1),e.Q6J("ngIf",r.selectComponent.itemEndTemplate),e.xp6(1),e.Q6J("ngIf",r.selectComponent.itemIconTemplate),e.xp6(1),e.Q6J("ngIf",!r.selectComponent.itemIconTemplate),e.xp6(1),e.Q6J("ngIf",r.selectComponent.canSaveItem),e.xp6(1),e.Q6J("ngIf",r.selectComponent.canDeleteItem)}}function te(o,g){if(1&o&&(e.TgZ(0,"ion-virtual-scroll",38),e.YNc(1,d,2,2,"ion-item-divider",39),e.YNc(2,ee,8,12,"ion-item",40),e.qZA()),2&o){const i=e.oxw();e.Q6J("items",i.selectComponent._filteredGroups[0].items)("headerFn",i.selectComponent.virtualScrollHeaderFn)("approxItemHeight",i.selectComponent.virtualScrollApproxItemHeight)}}const ne=function(o){return{"top.px":o}},ie=function(o){return{height:o}},oe=function(o,g){return{item:o,isAdd:g}};function le(o,g){if(1&o&&(e.TgZ(0,"div",43)(1,"div",44),e._UZ(2,"span",26),e.qZA()()),2&o){const i=e.oxw();e.Q6J("ngStyle",e.VKq(4,ne,i._header.offsetHeight)),e.xp6(1),e.Q6J("ngStyle",e.VKq(6,ie,i.selectComponent._addItemTemplateFooterHeight)),e.xp6(1),e.Q6J("ngTemplateOutlet",i.selectComponent.addItemTemplate)("ngTemplateOutletContext",e.WLB(8,oe,i.selectComponent._itemToAdd,null===i.selectComponent._itemToAdd))}}function ae(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",46),e.NdJ("click",function(){e.CHM(i);const E=e.oxw(3);return e.KtG(E.selectComponent._clear())}),e._uU(2),e.qZA()()}if(2&o){const i=e.oxw(3);e.xp6(1),e.Q6J("disabled",!i.selectComponent._selectedItems.length),e.xp6(1),e.hij(" ",i.selectComponent.clearButtonText," ")}}function se(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",47),e.NdJ("click",function(){e.CHM(i);const E=e.oxw(3);return e.KtG(E.selectComponent._addItemClick())}),e._uU(2),e.qZA()()}if(2&o){const i=e.oxw(3);e.xp6(2),e.hij(" ",i.selectComponent.addButtonText," ")}}function ce(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",46),e.NdJ("click",function(){e.CHM(i);const E=e.oxw(3);return e.KtG(E.selectComponent._confirm())}),e._uU(2),e.qZA()()}if(2&o){const i=e.oxw(3);e.xp6(1),e.Q6J("disabled",!i.selectComponent.isConfirmButtonEnabled),e.xp6(1),e.hij(" ",i.selectComponent.confirmButtonText," ")}}function re(o,g){if(1&o&&(e.TgZ(0,"ion-toolbar")(1,"ion-row"),e.YNc(2,ae,3,2,"ion-col",2),e.YNc(3,se,3,1,"ion-col",2),e.YNc(4,ce,3,2,"ion-col",2),e.qZA()()),2&o){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.selectComponent.canClear),e.xp6(1),e.Q6J("ngIf",i.selectComponent.canAddItem),e.xp6(1),e.Q6J("ngIf",i.selectComponent.isMultiple||i.selectComponent.hasConfirmButton)}}function _e(o,g){if(1&o&&e._UZ(0,"div",12),2&o){const i=e.oxw(2);e.Q6J("ngTemplateOutlet",i.selectComponent.footerTemplate)}}const pe=function(o){return{visibility:o}};function me(o,g){if(1&o&&(e.TgZ(0,"ion-footer",45),e.YNc(1,re,5,3,"ion-toolbar",2),e.YNc(2,_e,1,1,"div",1),e.qZA()),2&o){const i=e.oxw();e.Q6J("ngStyle",e.VKq(3,pe,i.selectComponent._isFooterVisible?"initial":"hidden")),e.xp6(1),e.Q6J("ngIf",!i.selectComponent.footerTemplate),e.xp6(1),e.Q6J("ngIf",i.selectComponent.footerTemplate)}}let de=(()=>{class o{constructor(i,r){this.navParams=i,this._element=r,this._cssClass=!0,this.selectComponent=this.navParams.get("selectComponent"),this.selectComponent._modalComponent=this,this.selectComponent._selectedItems=[],this.selectComponent._isNullOrWhiteSpace(this.selectComponent.value)||(this.selectComponent.isMultiple?this.selectComponent.value.forEach(E=>{this.selectComponent._selectedItems.push(E)}):this.selectComponent._selectedItems.push(this.selectComponent.value)),this.selectComponent._setItemsToConfirm(this.selectComponent._selectedItems)}get _canClearCssClass(){return this.selectComponent.canClear}get _isMultipleCssClass(){return this.selectComponent.isMultiple}get _isSearchingCssClass(){return this.selectComponent._isSearching}get _isIos(){return this.selectComponent._isIos}_isMD(){return this.selectComponent._isMD}get _isAddItemTemplateVisibleCssClass(){return this.selectComponent._isAddItemTemplateVisible}onResize(){this.selectComponent._positionAddItemTemplate()}ngAfterViewInit(){this._header=this._element.nativeElement.querySelector("ion-header"),this._searchbarComponent&&this.selectComponent.shouldFocusSearchbar&&setTimeout(()=>{this._searchbarComponent.setFocus()},1e3)}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(t.X1),e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ionic-selectable-modal"]],viewQuery:function(i,r){if(1&i&&(e.Gf(t.W2,5),e.Gf(b,5),e.Gf(t.ju,5)),2&i){let E;e.iGM(E=e.CRH())&&(r._content=E.first),e.iGM(E=e.CRH())&&(r._searchbarComponent=E.first),e.iGM(E=e.CRH())&&(r._infiniteScroll=E.first)}},hostVars:14,hostBindings:function(i,r){1&i&&e.NdJ("resize",function(){return r.onResize()},!1,e.Jf7),2&i&&e.ekj("ionic-selectable-modal",r._cssClass)("ionic-selectable-modal-can-clear",r._canClearCssClass)("ionic-selectable-modal-is-multiple",r._isMultipleCssClass)("ionic-selectable-modal-is-searching",r._isSearchingCssClass)("ionic-selectable-modal-ios",r._isIos)("ionic-selectable-modal-md",r._isMD)("ionic-selectable-modal-is-add-item-template-visible",r._isAddItemTemplateVisibleCssClass)},decls:12,vars:10,consts:[[3,"color",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngIf"],["class","ionic-selectable-spinner",4,"ngIf"],["class","ion-no-margin",4,"ngIf"],[3,"disabled","ionInfinite",4,"ngIf"],["class","ion-no-margin",3,"items","headerFn","approxItemHeight",4,"ngIf"],["class","ionic-selectable-add-item-template",3,"ngStyle",4,"ngIf"],[3,"ngStyle",4,"ngIf"],[3,"color"],[3,"slot"],[3,"click"],[3,"ngTemplateOutlet"],[3,"ngModel","placeholder","debounce","ngModelChange","ionChange","ionClear",4,"ngIf"],["class","ionic-selectable-message",4,"ngIf"],[3,"ngModel","placeholder","debounce","ngModelChange","ionChange","ionClear"],["searchbarComponent",""],[1,"ionic-selectable-message"],[1,"ionic-selectable-spinner"],[1,"ionic-selectable-spinner-background"],[1,"ion-no-margin"],["class","ionic-selectable-group",4,"ngFor","ngForOf"],[1,"ionic-selectable-group"],["button","true","detail","false","class","ionic-selectable-item",3,"ngClass","disabled","click",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["slot","end",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["slot","end"],["button","true","detail","false",1,"ionic-selectable-item",3,"ngClass","disabled","click"],[3,"name","color","slot",4,"ngIf"],["class","ionic-selectable-item-button","slot","end","fill","outline",3,"click",4,"ngIf"],[3,"name","color","slot"],["slot","end","fill","outline",1,"ionic-selectable-item-button",3,"click"],["slot","icon-only","ios","create","md","create-sharp"],["slot","icon-only","ios","trash","md","trash-sharp"],["class","ion-margin",4,"ngIf"],[1,"ion-margin"],[3,"disabled","ionInfinite"],[1,"ion-no-margin",3,"items","headerFn","approxItemHeight"],[3,"color",4,"virtualHeader"],["button","true","detail","false","class","ionic-selectable-item",3,"ngClass","disabled","click",4,"virtualItem"],["slot","icon-only","name","md-create"],["slot","icon-only","name","md-trash"],[1,"ionic-selectable-add-item-template",3,"ngStyle"],[1,"ionic-selectable-add-item-template-inner",3,"ngStyle"],[3,"ngStyle"],["expand","full",3,"disabled","click"],["expand","full",3,"click"]],template:function(i,r){1&i&&(e.TgZ(0,"ion-header"),e.YNc(1,p,8,6,"ion-toolbar",0),e.YNc(2,I,1,1,"div",1),e.YNc(3,L,3,2,"ion-toolbar",2),e.qZA(),e.TgZ(4,"ion-content"),e.YNc(5,w,3,0,"div",3),e.YNc(6,x,2,1,"ion-list",4),e.YNc(7,a,3,2,"div",2),e.YNc(8,f,2,1,"ion-infinite-scroll",5),e.YNc(9,te,3,3,"ion-virtual-scroll",6),e.qZA(),e.YNc(10,le,3,11,"div",7),e.YNc(11,me,3,5,"ion-footer",8)),2&i&&(e.xp6(1),e.Q6J("ngIf",!r.selectComponent.headerTemplate),e.xp6(1),e.Q6J("ngIf",r.selectComponent.headerTemplate),e.xp6(1),e.Q6J("ngIf",r.selectComponent.canSearch||r.selectComponent.messageTemplate),e.xp6(2),e.Q6J("ngIf",r.selectComponent._isSearching),e.xp6(1),e.Q6J("ngIf",!r.selectComponent.hasVirtualScroll&&r.selectComponent._hasFilteredItems),e.xp6(1),e.Q6J("ngIf",!r.selectComponent._hasFilteredItems),e.xp6(1),e.Q6J("ngIf",!r.selectComponent.hasVirtualScroll),e.xp6(1),e.Q6J("ngIf",r.selectComponent.hasVirtualScroll&&r.selectComponent._hasFilteredItems),e.xp6(1),e.Q6J("ngIf",r.selectComponent._isAddItemTemplateVisible),e.xp6(1),e.Q6J("ngIf",r.selectComponent._footerButtonsCount>0||r.selectComponent.footerTemplate))},dependencies:[c.mk,c.sg,c.O5,c.tP,c.PC,u.JJ,u.On,t.YG,t.Sm,t.wI,t.W2,t.fr,t.Gu,t.gu,t.ju,t.MB,t.Ie,t.rH,t.Ub,t.Q$,t.q_,t.Nd,t.VI,t.PQ,t.wd,t.sr,t.j9,t.A_,t.Rw,t.aJ],encapsulation:2}),o})()},85717:(B,v,s)=>{s.d(v,{e:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectablePlaceholderTemplate",""]]}),c})()},88280:(B,v,s)=>{s.d(v,{i:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableSearchFailTemplate",""]]}),c})()},29038:(B,v,s)=>{s.d(v,{n:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableTitleTemplate",""]]}),c})()},22251:(B,v,s)=>{s.d(v,{e:()=>e});var t=s(94650);let e=(()=>{class c{}return c.\u0275fac=function(b){return new(b||c)},c.\u0275dir=t.lG2({type:c,selectors:[["","ionicSelectableValueTemplate",""]]}),c})()},5466:(B,v,s)=>{s.d(v,{R:()=>k});var t=s(94650),e=s(24006),c=s(61430),u=s(23559),b=s(74741),R=s(64131),F=s(19695),P=s(84537),y=s(99105),p=s(49618),I=s(48919),C=s(94065),D=s(24369),L=s(85717),w=s(88280),K=s(29038),H=s(22251),V=s(55495),N=s(90603),Y=s(36895);const J=function(x){return{value:x}};function m(x,A){if(1&x&&t._UZ(0,"div",8),2&x){const n=t.oxw();t.Q6J("ngTemplateOutlet",n.valueTemplate)("ngTemplateOutletContext",t.VKq(2,J,n._valueItems))}}function h(x,A){if(1&x&&(t.TgZ(0,"div",9),t._UZ(1,"div",8),t.qZA()),2&x){const n=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",n.valueTemplate)("ngTemplateOutletContext",t.VKq(2,J,n._valueItems[0]))}}function l(x,A){if(1&x&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&x){const n=A.$implicit,a=t.oxw(2);t.xp6(1),t.hij(" ",a._formatValueItem(n)," ")}}function _(x,A){if(1&x&&(t.TgZ(0,"span"),t.YNc(1,l,2,1,"div",10),t.qZA()),2&x){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n._valueItems)}}function T(x,A){if(1&x&&(t.TgZ(0,"div",9),t._UZ(1,"div",11),t.qZA()),2&x){const n=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",n.placeholderTemplate)}}function M(x,A){if(1&x&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&x){const n=t.oxw();t.xp6(1),t.hij(" ",n.placeholder," ")}}function O(x,A){1&x&&(t.TgZ(0,"span"),t._uU(1,"\xa0"),t.qZA())}function Z(x,A){if(1&x&&(t.TgZ(0,"div",12),t._UZ(1,"div",11),t.qZA()),2&x){const n=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",n.iconTemplate)}}function W(x,A){1&x&&(t.TgZ(0,"div",13),t._UZ(1,"div",14),t.qZA())}let k=(()=>{class x{constructor(n,a,f,d,S,U){this._modalController=n,this._platform=a,this.ionItem=f,this._iterableDiffers=d,this._element=S,this._renderer=U,this._cssClass=!0,this._isOnSearchEnabled=!0,this._isEnabled=!0,this._shouldBackdropClose=!0,this._isOpened=!1,this._value=null,this._canClear=!1,this._hasConfirmButton=!1,this._isMultiple=!1,this._canAddItem=!1,this.onItemsChange=new t.vpe,this._hasIonLabel=!1,this._ionLabelPosition=null,this._label=null,this._valueItems=[],this._searchText="",this._hasSearchText=!1,this._groups=[],this._itemsToConfirm=[],this._selectedItems=[],this._filteredGroups=[],this._isAddItemTemplateVisible=!1,this._isFooterVisible=!0,this._itemToAdd=null,this._footerButtonsCount=0,this._hasFilteredItems=!1,this.items=[],this.itemsChange=new t.vpe,this.modalCssClass=null,this.modalEnterAnimation=null,this.modalLeaveAnimation=null,this.isConfirmButtonEnabled=!0,this.itemValueField=null,this.itemTextField=null,this.groupValueField=null,this.groupTextField=null,this.canSearch=!1,this.hasInfiniteScroll=!1,this.hasVirtualScroll=!1,this.virtualScrollApproxItemHeight="40px",this.searchPlaceholder="Search",this.placeholder=null,this.searchFailText="No items found.",this.clearButtonText="Clear",this.addButtonText="Add",this.confirmButtonText="OK",this.closeButtonText="Cancel",this.shouldFocusSearchbar=!1,this.headerColor=null,this.groupColor=null,this.closeButtonSlot="start",this.itemIconSlot="start",this.onChange=new t.vpe,this.onSearch=new t.vpe,this.onSearchFail=new t.vpe,this.onSearchSuccess=new t.vpe,this.onInfiniteScroll=new t.vpe,this.onOpen=new t.vpe,this.onClose=new t.vpe,this.onSelect=new t.vpe,this.onClear=new t.vpe,this.searchDebounce=250,this.disabledItems=[],this.shouldStoreItemValue=!1,this.canSaveItem=!1,this.canDeleteItem=!1,this.onSaveItem=new t.vpe,this.onDeleteItem=new t.vpe,this.onAddItem=new t.vpe,this.virtualScrollHeaderFn=()=>null,this.propagateOnChange=j=>{},this.propagateOnTouched=()=>{},(!this.items||!this.items.length)&&(this.items=[]),this._itemsDiffer=this._iterableDiffers.find(this.items).create()}get _isMultipleCssClass(){return this.isMultiple}get _hasValueCssClass(){return this.hasValue()}get _hasPlaceholderCssClass(){return this._hasPlaceholder}get _hasIonLabelCssClass(){return this._hasIonLabel}get _hasDefaultIonLabelCssClass(){return"default"===this._ionLabelPosition}get _hasFixedIonLabelCssClass(){return"fixed"===this._ionLabelPosition}get _hasStackedIonLabelCssClass(){return"stacked"===this._ionLabelPosition}get _hasFloatingIonLabelCssClass(){return"floating"===this._ionLabelPosition}get _hasInfiniteScroll(){return!!(this.isEnabled&&this._modalComponent&&this._modalComponent._infiniteScroll)}get _shouldStoreItemValue(){return this.shouldStoreItemValue&&this._hasObjects}get label(){return this._label}get searchText(){return this._searchText}set searchText(n){this._searchText=n,this._setHasSearchText()}get isSearching(){return this._isSearching}get hasSearchText(){return this._hasSearchText}get value(){return this._value}set value(n){this._value=n,this._valueItems.splice(0,this._valueItems.length),this.isMultiple?n&&n.length&&Array.prototype.push.apply(this._valueItems,n):this._isNullOrWhiteSpace(n)||this._valueItems.push(n),this._setIonItemHasValue(),this._setHasPlaceholder()}get isEnabled(){return this._isEnabled}set isEnabled(n){this._isEnabled=!!n,this.enableIonItem(this._isEnabled)}get shouldBackdropClose(){return this._shouldBackdropClose}set shouldBackdropClose(n){this._shouldBackdropClose=!!n}get isOpened(){return this._isOpened}get hasConfirmButton(){return this._hasConfirmButton}set hasConfirmButton(n){this._hasConfirmButton=!!n,this._countFooterButtons()}get isOnSearchEnabled(){return this._isOnSearchEnabled}set isOnSearchEnabled(n){this._isOnSearchEnabled=!!n}get canClear(){return this._canClear}set canClear(n){this._canClear=!!n,this._countFooterButtons()}get isMultiple(){return this._isMultiple}set isMultiple(n){this._isMultiple=!!n,this._countFooterButtons()}get itemsToConfirm(){return this._itemsToConfirm}get canAddItem(){return this._canAddItem}set canAddItem(n){this._canAddItem=!!n,this._countFooterButtons()}initFocus(){}enableIonItem(n){!this.ionItem||(this.ionItem.disabled=!n)}_isNullOrWhiteSpace(n){return null==n||n.toString().replace(/\s/g,"").length<1}_setHasSearchText(){this._hasSearchText=!this._isNullOrWhiteSpace(this._searchText)}_hasOnSearch(){return this.isOnSearchEnabled&&this.onSearch.observers.length>0}_hasOnSaveItem(){return this.canSaveItem&&this.onSaveItem.observers.length>0}_hasOnAddItem(){return this.canAddItem&&this.onAddItem.observers.length>0}_hasOnDeleteItem(){return this.canDeleteItem&&this.onDeleteItem.observers.length>0}_emitValueChange(){this.propagateOnChange(this.value),this.onChange.emit({component:this,value:this.value})}_emitSearch(){!this.canSearch||this.onSearch.emit({component:this,text:this._searchText})}_emitOnSelect(n,a){this.onSelect.emit({component:this,item:n,isSelected:a})}_emitOnClear(n){this.onClear.emit({component:this,items:n})}_emitOnSearchSuccessOrFail(n){const a={component:this,text:this._searchText};n?this.onSearchSuccess.emit(a):this.onSearchFail.emit(a)}_formatItem(n){return this._isNullOrWhiteSpace(n)?null:this.itemTextField?n[this.itemTextField]:n.toString()}_formatValueItem(n){if(this._shouldStoreItemValue){const a=this.items.find(f=>f[this.itemValueField]===n);return this._formatItem(a)}return this._formatItem(n)}_getItemValue(n){return this._hasObjects?n[this.itemValueField]:n}_getStoredItemValue(n){return this._hasObjects?this._shouldStoreItemValue?n:n[this.itemValueField]:n}_onSearchbarClear(){this._searchText=""}_filterItems(){if(this._setHasSearchText(),this._hasOnSearch())this._emitSearch();else{let n=[];if(this._searchText&&this._searchText.trim()){const a=this._searchText.trim().toLowerCase();this._groups.forEach(f=>{const d=f.items.filter(S=>-1!==(this.itemTextField?S[this.itemTextField]:S).toString().toLowerCase().indexOf(a));d.length&&n.push({value:f.value,text:f.text,items:d})}),n.length||n.push({items:[]})}else n=this._groups;this._filteredGroups=n,this._hasFilteredItems=!this._areGroupsEmpty(n),this._emitOnSearchSuccessOrFail(this._hasFilteredItems)}}_isItemDisabled(n){if(this.disabledItems)return this.disabledItems.some(a=>this._getItemValue(a)===this._getItemValue(n))}_isItemSelected(n){return void 0!==this._selectedItems.find(a=>this._getItemValue(n)===this._getStoredItemValue(a))}_addSelectedItem(n){this._selectedItems.push(this._shouldStoreItemValue?this._getItemValue(n):n)}_deleteSelectedItem(n){let a;this._selectedItems.forEach((f,d)=>{this._getItemValue(n)===this._getStoredItemValue(f)&&(a=d)}),this._selectedItems.splice(a,1)}_click(){!this.isEnabled||(this._label=this._getLabelText(),this.open().then(()=>{this.onOpen.emit({component:this})}))}_saveItem(n,a){n.stopPropagation(),this._itemToAdd=a,this._hasOnSaveItem()?this.onSaveItem.emit({component:this,item:this._itemToAdd}):this.showAddItemTemplate()}_deleteItemClick(n,a){n.stopPropagation(),this._itemToAdd=a,this._hasOnDeleteItem()?this.onDeleteItem.emit({component:this,item:this._itemToAdd}):this.deleteItem(this._itemToAdd)}_addItemClick(){this._hasOnAddItem()?this.onAddItem.emit({component:this}):this.showAddItemTemplate()}_positionAddItemTemplate(){setTimeout(()=>{const n=this._modalComponent._element.nativeElement.querySelector(".ionic-selectable-add-item-template ion-footer");this._addItemTemplateFooterHeight=n?`calc(100% - ${n.offsetHeight}px)`:"100%"},100)}_close(){this.close().then(()=>{this.onClose.emit({component:this})}),this._hasOnSearch()||(this._searchText="",this._setHasSearchText())}_clear(){const n=this._selectedItems;this.clear(),this._emitValueChange(),this._emitOnClear(n),this.close().then(()=>{this.onClose.emit({component:this})})}_getMoreItems(){this.onInfiniteScroll.emit({component:this,text:this._searchText})}_setItemsToConfirm(n){this._itemsToConfirm=[].concat(n)}_doSelect(n){this.value=n,this._emitValueChange()}_select(n){const a=this._isItemSelected(n);this.isMultiple?(a?this._deleteSelectedItem(n):this._addSelectedItem(n),this._setItemsToConfirm(this._selectedItems),this._emitOnSelect(n,!a)):this.hasConfirmButton||this.footerTemplate?(this._selectedItems=[],a?this._deleteSelectedItem(n):this._addSelectedItem(n),this._setItemsToConfirm(this._selectedItems),this._emitOnSelect(n,!a)):(a||(this._selectedItems=[],this._addSelectedItem(n),this._emitOnSelect(n,!0),this._doSelect(this._shouldStoreItemValue?this._getItemValue(n):n)),this._close())}_confirm(){this.confirm(),this._close()}_getLabelText(){return this._ionLabelElement?this._ionLabelElement.textContent:null}_areGroupsEmpty(n){return 0===n.length||n.every(a=>!a.items||0===a.items.length)}_countFooterButtons(){let n=0;this.canClear&&n++,(this.isMultiple||this._hasConfirmButton)&&n++,this.canAddItem&&n++,this._footerButtonsCount=n}_setItems(n){let a=[{items:n||[]}];n&&n.length&&this._hasGroups&&(a=[],n.forEach(f=>{const d=this._getPropertyValue(f,this.groupValueField),S=a.find(U=>U.value===d);S?S.items.push(f):a.push({value:d,text:this._getPropertyValue(f,this.groupTextField),items:[f]})})),this._groups=a,this._filteredGroups=this._groups,this._hasFilteredItems=!this._areGroupsEmpty(this._filteredGroups)}_getPropertyValue(n,a){return a?a.split(".").reduce((f,d)=>f?f[d]:null,n):null}_setIonItemHasFocus(n){!this.ionItem||this._setIonItemCssClass("item-has-focus",n)}_setIonItemHasValue(){!this.ionItem||this._setIonItemCssClass("item-has-value",this.hasValue())}_setHasPlaceholder(){this._hasPlaceholder=!(this.hasValue()||this._isNullOrWhiteSpace(this.placeholder)&&!this.placeholderTemplate)}_setIonItemCssClass(n,a){!this._ionItemElement||(a?this._renderer.addClass(this._ionItemElement,n):this._renderer.removeClass(this._ionItemElement,n))}_toggleAddItemTemplate(n){!this.addItemTemplate||(this._isAddItemTemplateVisible=n,this._isFooterVisible=!n)}writeValue(n){this.value=n}registerOnChange(n){this.propagateOnChange=n}registerOnTouched(n){this.propagateOnTouched=n}setDisabledState(n){this.isEnabled=!n}ngOnInit(){this._isIos=this._platform.is("ios"),this._isMD=!this._isIos,this._hasObjects=!this._isNullOrWhiteSpace(this.itemValueField),this._hasGroups=Boolean(this._hasObjects&&this.groupValueField&&!this.hasVirtualScroll),this.ionItem&&(this._ionItemElement=this._element.nativeElement.closest("ion-item"),this._setIonItemCssClass("item-interactive",!0),this._setIonItemCssClass("item-ionic-selectable",!0),this._ionItemElement&&(this._ionLabelElement=this._ionItemElement.querySelector("ion-label"),this._ionLabelElement&&(this._hasIonLabel=!0,this._ionLabelPosition=this._ionLabelElement.getAttribute("position")||"default"))),this.enableIonItem(this.isEnabled)}ngDoCheck(){this._itemsDiffer.diff(this.items)&&(this._setItems(this.items),this.value=this.value,this.onItemsChange.emit({component:this}))}addItem(n){const a=this;return this.items.unshift(n),this._addItemObservable&&this._addItemObservable.unsubscribe(),new Promise(function(f,d){a._addItemObservable=a.onItemsChange.asObservable().subscribe(()=>{a._addItemObservable.unsubscribe(),f()},()=>{a._addItemObservable.unsubscribe(),d()})})}deleteItem(n){const a=this;let f=!1;if(this._selectedItems&&(this._selectedItems=this._selectedItems.filter(S=>this._getItemValue(n)!==this._getStoredItemValue(S))),this.value)if(this.isMultiple){const S=this.value.filter(U=>U.id!==n.id);S.length!==this.value.length&&(this.value=S,f=!0)}else n===this.value&&(this.value=null,f=!0);f&&this._emitValueChange();const d=this.items.filter(S=>S.id!==n.id);return this.itemsChange.emit(d),this._setItems(d),this.onItemsChange.emit({component:this}),this._deleteItemObservable&&this._deleteItemObservable.unsubscribe(),new Promise(function(S,U){a._deleteItemObservable=a.onItemsChange.asObservable().subscribe(()=>{a._deleteItemObservable.unsubscribe(),S()},()=>{a._deleteItemObservable.unsubscribe(),U()})})}hasValue(){return this.isMultiple?0!==this._valueItems.length:0!==this._valueItems.length&&!this._isNullOrWhiteSpace(this._valueItems[0])}open(){const n=this;return new Promise(function(a,f){if(!n._isEnabled||n._isOpened)return void f("IonicSelectable is disabled or already opened.");n._filterItems(),n._isOpened=!0;const d={component:D.z,componentProps:{selectComponent:n},backdropDismiss:n._shouldBackdropClose};n.modalCssClass&&(d.cssClass=n.modalCssClass),n.modalEnterAnimation&&(d.enterAnimation=n.modalEnterAnimation),n.modalLeaveAnimation&&(d.leaveAnimation=n.modalLeaveAnimation),n._modalController.create(d).then(S=>{n._modal=S,S.present().then(()=>{n._setIonItemHasFocus(!0),a()}),S.onWillDismiss().then(()=>{n._setIonItemHasFocus(!1)}),S.onDidDismiss().then(U=>{n._isOpened=!1,n._itemsToConfirm=[],"backdrop"===U.role&&n.onClose.emit({component:n})})})})}close(){const n=this;return new Promise(function(a,f){n._isEnabled&&n._isOpened?(n.propagateOnTouched(),n._isOpened=!1,n._itemToAdd=null,n._modal.dismiss().then(()=>{n._setIonItemHasFocus(!1),n.hideAddItemTemplate(),a()})):f("IonicSelectable is disabled or already closed.")})}clear(){this.value=this.isMultiple?[]:null,this._itemsToConfirm=[],this.propagateOnChange(this.value)}confirm(){this.isMultiple?this._doSelect(this._selectedItems):(this.hasConfirmButton||this.footerTemplate)&&this._doSelect(this._selectedItems[0]||null)}toggleItems(n,a){if(n){const f=a&&a.length;let d=this._groups.reduce((S,U)=>S.concat(U.items),[]);!this.isMultiple&&!f&&(d=[]),f&&(d=d.filter(S=>void 0!==a.find(U=>this._getItemValue(S)===this._getItemValue(U))),this.isMultiple||d.splice(0,1)),d.forEach(S=>{this._addSelectedItem(S)})}else this._selectedItems=[];this._setItemsToConfirm(this._selectedItems)}scrollToTop(){const n=this;return new Promise(function(a,f){n._isOpened?n._modalComponent._content.scrollToTop().then(()=>{a()}):f("IonicSelectable content cannot be scrolled.")})}scrollToBottom(){const n=this;return new Promise(function(a,f){n._isOpened?n._modalComponent._content.scrollToBottom().then(()=>{a()}):f("IonicSelectable content cannot be scrolled.")})}startSearch(){!this._isEnabled||this.showLoading()}endSearch(){!this._isEnabled||(this.hideLoading(),this._setItems(this.items),this._emitOnSearchSuccessOrFail(this._hasFilteredItems))}enableInfiniteScroll(){!this._hasInfiniteScroll||(this._modalComponent._infiniteScroll.disabled=!1)}disableInfiniteScroll(){!this._hasInfiniteScroll||(this._modalComponent._infiniteScroll.disabled=!0)}endInfiniteScroll(){!this._hasInfiniteScroll||(this._modalComponent._infiniteScroll.complete(),this._setItems(this.items))}search(n){!this._isEnabled||!this._isOpened||!this.canSearch||(this._searchText=n,this._setHasSearchText(),this._filterItems())}showLoading(){!this._isEnabled||(this._isSearching=!0)}hideLoading(){!this._isEnabled||(this._isSearching=!1)}showAddItemTemplate(){this._toggleAddItemTemplate(!0),this._positionAddItemTemplate()}hideAddItemTemplate(){this._itemToAdd=null,this._toggleAddItemTemplate(!1)}}return x.\u0275fac=function(n){return new(n||x)(t.Y36(N.IN),t.Y36(N.t4),t.Y36(N.Ie,8),t.Y36(t.ZZ4),t.Y36(t.SBq),t.Y36(t.Qsj))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ionic-selectable"]],contentQueries:function(n,a,f){if(1&n&&(t.Suo(f,H.e,5,t.Rgc),t.Suo(f,I.c,5,t.Rgc),t.Suo(f,y.o,5,t.Rgc),t.Suo(f,K.n,5,t.Rgc),t.Suo(f,L.e,5,t.Rgc),t.Suo(f,C.s,5,t.Rgc),t.Suo(f,F.A,5,t.Rgc),t.Suo(f,R.p,5,t.Rgc),t.Suo(f,u.b,5,t.Rgc),t.Suo(f,w.i,5,t.Rgc),t.Suo(f,c.H,5,t.Rgc),t.Suo(f,b.G,5,t.Rgc),t.Suo(f,P.V,5,t.Rgc),t.Suo(f,p.u,5,t.Rgc),t.Suo(f,V.N,5,t.Rgc)),2&n){let d;t.iGM(d=t.CRH())&&(a.valueTemplate=d.first),t.iGM(d=t.CRH())&&(a.itemTemplate=d.first),t.iGM(d=t.CRH())&&(a.itemEndTemplate=d.first),t.iGM(d=t.CRH())&&(a.titleTemplate=d.first),t.iGM(d=t.CRH())&&(a.placeholderTemplate=d.first),t.iGM(d=t.CRH())&&(a.messageTemplate=d.first),t.iGM(d=t.CRH())&&(a.groupTemplate=d.first),t.iGM(d=t.CRH())&&(a.groupEndTemplate=d.first),t.iGM(d=t.CRH())&&(a.closeButtonTemplate=d.first),t.iGM(d=t.CRH())&&(a.searchFailTemplate=d.first),t.iGM(d=t.CRH())&&(a.addItemTemplate=d.first),t.iGM(d=t.CRH())&&(a.footerTemplate=d.first),t.iGM(d=t.CRH())&&(a.headerTemplate=d.first),t.iGM(d=t.CRH())&&(a.itemIconTemplate=d.first),t.iGM(d=t.CRH())&&(a.iconTemplate=d.first)}},hostVars:26,hostBindings:function(n,a){2&n&&t.ekj("ionic-selectable",a._cssClass)("ionic-selectable-is-multiple",a._isMultipleCssClass)("ionic-selectable-has-value",a._hasValueCssClass)("ionic-selectable-has-placeholder",a._hasPlaceholderCssClass)("ionic-selectable-has-label",a._hasIonLabelCssClass)("ionic-selectable-label-default",a._hasDefaultIonLabelCssClass)("ionic-selectable-label-fixed",a._hasFixedIonLabelCssClass)("ionic-selectable-label-stacked",a._hasStackedIonLabelCssClass)("ionic-selectable-label-floating",a._hasFloatingIonLabelCssClass)("ionic-selectable-is-enabled",a.isEnabled)("ionic-selectable-can-clear",a.canClear)("ionic-selectable-ios",a._isIos)("ionic-selectable-md",a._isMD)},inputs:{items:"items",modalCssClass:"modalCssClass",modalEnterAnimation:"modalEnterAnimation",modalLeaveAnimation:"modalLeaveAnimation",isConfirmButtonEnabled:"isConfirmButtonEnabled",itemValueField:"itemValueField",itemTextField:"itemTextField",groupValueField:"groupValueField",groupTextField:"groupTextField",canSearch:"canSearch",hasInfiniteScroll:"hasInfiniteScroll",hasVirtualScroll:"hasVirtualScroll",virtualScrollApproxItemHeight:"virtualScrollApproxItemHeight",searchPlaceholder:"searchPlaceholder",placeholder:"placeholder",searchFailText:"searchFailText",clearButtonText:"clearButtonText",addButtonText:"addButtonText",confirmButtonText:"confirmButtonText",closeButtonText:"closeButtonText",shouldFocusSearchbar:"shouldFocusSearchbar",headerColor:"headerColor",groupColor:"groupColor",closeButtonSlot:"closeButtonSlot",itemIconSlot:"itemIconSlot",searchDebounce:"searchDebounce",disabledItems:"disabledItems",shouldStoreItemValue:"shouldStoreItemValue",canSaveItem:"canSaveItem",canDeleteItem:"canDeleteItem",virtualScrollHeaderFn:"virtualScrollHeaderFn",isEnabled:"isEnabled",shouldBackdropClose:"shouldBackdropClose",hasConfirmButton:"hasConfirmButton",isOnSearchEnabled:"isOnSearchEnabled",canClear:"canClear",isMultiple:"isMultiple",canAddItem:"canAddItem"},outputs:{itemsChange:"itemsChange",onChange:"onChange",onSearch:"onSearch",onSearchFail:"onSearchFail",onSearchSuccess:"onSearchSuccess",onInfiniteScroll:"onInfiniteScroll",onOpen:"onOpen",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onSaveItem:"onSaveItem",onDeleteItem:"onDeleteItem",onAddItem:"onAddItem"},features:[t._Bn([{provide:e.JU,useExisting:(0,t.Gpc)(()=>x),multi:!0}])],decls:11,vars:9,consts:[[1,"ionic-selectable-inner"],[1,"ionic-selectable-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","ionic-selectable-value-item",4,"ngIf"],[4,"ngIf"],["class","ionic-selectable-icon-template",4,"ngIf"],["class","ionic-selectable-icon",4,"ngIf"],["type","button",1,"ionic-selectable-cover",3,"disabled","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ionic-selectable-value-item"],["class","ionic-selectable-value-item",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],[1,"ionic-selectable-icon-template"],[1,"ionic-selectable-icon"],[1,"ionic-selectable-icon-inner"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,m,1,4,"div",2),t.YNc(3,h,2,4,"div",3),t.YNc(4,_,2,1,"span",4),t.YNc(5,T,2,1,"div",3),t.YNc(6,M,2,1,"div",3),t.YNc(7,O,2,0,"span",4),t.qZA(),t.YNc(8,Z,2,1,"div",5),t.YNc(9,W,2,0,"div",6),t.TgZ(10,"button",7),t.NdJ("click",function(){return a._click()}),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngIf",a.valueTemplate&&a._valueItems.length&&a.isMultiple),t.xp6(1),t.Q6J("ngIf",a.valueTemplate&&a._valueItems.length&&!a.isMultiple),t.xp6(1),t.Q6J("ngIf",!a.valueTemplate&&a._valueItems.length),t.xp6(1),t.Q6J("ngIf",a._hasPlaceholder&&a.placeholderTemplate),t.xp6(1),t.Q6J("ngIf",a._hasPlaceholder&&!a.placeholderTemplate),t.xp6(1),t.Q6J("ngIf",!a._valueItems.length&&!a._hasPlaceholder),t.xp6(1),t.Q6J("ngIf",a.iconTemplate),t.xp6(1),t.Q6J("ngIf",!a.iconTemplate),t.xp6(1),t.Q6J("disabled",!a.isEnabled))},dependencies:[Y.sg,Y.O5,Y.tP],styles:[".item-ionic-selectable .item-inner .input-wrapper{align-items:normal}.item-ionic-selectable ion-label{flex:1;max-width:none}.ionic-selectable{display:block;max-width:45%}.ionic-selectable-inner{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-end}.ionic-selectable-has-placeholder .ionic-selectable-value-item{color:var(--placeholder-color,#999)}.ionic-selectable-value{flex:1;padding-top:13px;padding-bottom:13px;overflow:hidden}.ionic-selectable-value-item{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.ionic-selectable-value-item:not(:last-child){margin-bottom:5px}.ionic-selectable-icon{position:relative;width:20px}.ionic-selectable-icon-inner{position:absolute;top:20px;left:5px;border-top:5px solid;border-right:5px solid transparent;border-left:5px solid transparent;pointer-events:none;color:var(--icon-color,#999)}.ionic-selectable-icon-template{align-self:center;margin-left:5px}.ionic-selectable-ios .ionic-selectable-value{padding-top:11px;padding-bottom:11px}.ionic-selectable-ios .ionic-selectable-icon-inner{top:19px}.ionic-selectable-spinner{position:fixed;bottom:0;top:0;left:0;right:0;z-index:1}.ionic-selectable-spinner-background{top:0;bottom:0;left:0;right:0;position:absolute;background-color:#000;opacity:.05}.ionic-selectable-spinner ion-spinner{position:absolute;top:50%;left:50%;z-index:10;margin-top:-14px;margin-left:-14px}.ionic-selectable-cover{left:0;top:0;margin:0;position:absolute;width:100%;height:100%;border:0;background:0 0;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:0}.ionic-selectable-add-item-template{position:fixed;bottom:0;left:0;right:0;background-color:#fff}.ionic-selectable-add-item-template-inner{overflow-y:auto}.ionic-selectable-add-item-template-inner>ion-footer{bottom:0;position:absolute}.ionic-selectable:not(.ionic-selectable-has-label){max-width:100%;width:100%}.ionic-selectable:not(.ionic-selectable-has-label)-value-item{text-align:right}.ionic-selectable-label-floating,.ionic-selectable-label-stacked{align-self:stretch;max-width:100%;padding-left:0;padding-top:8px;padding-bottom:8px}.ionic-selectable-label-floating .ionic-selectable-value,.ionic-selectable-label-stacked .ionic-selectable-value{padding-top:0;padding-bottom:0;min-height:19px}.ionic-selectable-label-floating .ionic-selectable-icon-inner,.ionic-selectable-label-stacked .ionic-selectable-icon-inner{top:7px}.ionic-selectable-label-floating.ionic-selectable-ios .ionic-selectable-value,.ionic-selectable-label-stacked.ionic-selectable-ios .ionic-selectable-value{padding-top:0;padding-bottom:0;min-height:20px}.ionic-selectable-label-floating.ionic-selectable-ios .ionic-selectable-icon-inner,.ionic-selectable-label-stacked.ionic-selectable-ios .ionic-selectable-icon-inner{top:8px}.ionic-selectable-label-default .ionic-selectable-value,.ionic-selectable-label-fixed .ionic-selectable-value{padding-left:var(--padding-start,16px)}.ionic-selectable-label-fixed:not(.ionic-selectable-has-value) .ionic-selectable-value{padding-left:calc(var(--padding-start, $padding) + 11px)}.ionic-selectable-modal .ionic-selectable-group ion-item-divider{padding-right:16px}.ionic-selectable-modal .ionic-selectable-item-button{margin-left:8px;margin-right:8px}.ionic-selectable-modal-ios .ionic-selectable-message{padding:8px}.ionic-selectable-modal-ios .ionic-selectable-group ion-item-divider{padding-right:8px}.ionic-selectable-modal-md .ionic-selectable-message{padding:8px 12px}.ionic-selectable-modal.ionic-selectable-modal-can-clear.ionic-selectable-modal-is-multiple .footer .col:first-child{padding-right:8px}.ionic-selectable-modal.ionic-selectable-modal-can-clear.ionic-selectable-modal-is-multiple .footer .col:last-child{padding-left:8px}.ionic-selectable-modal.ionic-selectable-modal-is-add-item-template-visible>.content>.scroll-content,.ionic-selectable-modal.ionic-selectable-modal-is-searching .scroll-content{overflow-y:hidden}.ionic-selectable-modal ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top,0)}"],encapsulation:2}),x})()},9605:(B,v,s)=>{s.d(v,{UV:()=>l});var t=s(36895),e=s(24006),c=s(90603),J=(s(61430),s(23559),s(74741),s(64131),s(19695),s(84537),s(99105),s(49618),s(48919),s(94065),s(24369),s(85717),s(88280),s(29038),s(22251),s(55495),s(5466),s(94650));let l=(()=>{class _{}return _.\u0275fac=function(M){return new(M||_)},_.\u0275mod=J.oAB({type:_}),_.\u0275inj=J.cJS({imports:[t.ez,e.u5,c.Pc]}),_})()},43189:(B,v,s)=>{s.d(v,{Z:()=>e,h:()=>c});var t=s(94650);let e=(()=>{class u{transform(R,F){return F&&R?u.filter(R,F):R}static filter(R,F){const P=F.toLowerCase();function y(p,I){for(let C in p)if(null!==p[C]&&null!=p[C]&&("object"==typeof p[C]&&y(p[C],I)||p[C].toString().toLowerCase().includes(P)))return!0;return!1}return R.filter(function(p){return y(p,F)})}}return u.\u0275fac=function(R){return new(R||u)},u.\u0275pipe=t.Yjl({name:"filter",type:u,pure:!1}),u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac}),u})(),c=(()=>{class u{}return u.\u0275fac=function(R){return new(R||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({}),u})()},54333:(B,v,s)=>{s.d(v,{JX:()=>J,LS:()=>Y,_s:()=>w});var t=s(94650),e=s(36895);function c(m,h){if(1&m){const l=t.EpF();t.TgZ(0,"a",12),t.NdJ("keyup.enter",function(){t.CHM(l),t.oxw(3);const T=t.MAs(1);return t.KtG(T.previous())})("click",function(){t.CHM(l),t.oxw(3);const T=t.MAs(1);return t.KtG(T.previous())}),t._uU(1),t.TgZ(2,"span",13),t._uU(3),t.qZA()()}if(2&m){const l=t.oxw(3);t.xp6(1),t.hij(" ",l.previousLabel," "),t.xp6(2),t.Oqu(l.screenReaderPageLabel)}}function u(m,h){if(1&m&&(t.TgZ(0,"span",14),t._uU(1),t.TgZ(2,"span",13),t._uU(3),t.qZA()()),2&m){const l=t.oxw(3);t.xp6(1),t.hij(" ",l.previousLabel," "),t.xp6(2),t.Oqu(l.screenReaderPageLabel)}}function b(m,h){if(1&m&&(t.TgZ(0,"li",9),t.YNc(1,c,4,2,"a",10),t.YNc(2,u,4,2,"span",11),t.qZA()),2&m){t.oxw(2);const l=t.MAs(1);t.ekj("disabled",l.isFirstPage()),t.xp6(1),t.Q6J("ngIf",1<l.getCurrent()),t.xp6(1),t.Q6J("ngIf",l.isFirstPage())}}function R(m,h){if(1&m){const l=t.EpF();t.TgZ(0,"a",12),t.NdJ("keyup.enter",function(){t.CHM(l);const T=t.oxw().$implicit;t.oxw(2);const M=t.MAs(1);return t.KtG(M.setCurrent(T.value))})("click",function(){t.CHM(l);const T=t.oxw().$implicit;t.oxw(2);const M=t.MAs(1);return t.KtG(M.setCurrent(T.value))}),t.TgZ(1,"span",13),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"number"),t.qZA()()}if(2&m){const l=t.oxw().$implicit,_=t.oxw(2);t.xp6(2),t.hij("",_.screenReaderPageLabel," "),t.xp6(2),t.Oqu("..."===l.label?l.label:t.xi3(5,2,l.label,""))}}function F(m,h){if(1&m&&(t.ynx(0),t.TgZ(1,"span",16)(2,"span",13),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"number"),t.qZA()(),t.BQk()),2&m){const l=t.oxw().$implicit,_=t.oxw(2);t.xp6(3),t.hij("",_.screenReaderCurrentLabel," "),t.xp6(2),t.Oqu("..."===l.label?l.label:t.xi3(6,2,l.label,""))}}function P(m,h){if(1&m&&(t.TgZ(0,"li"),t.YNc(1,R,6,5,"a",10),t.YNc(2,F,7,5,"ng-container",15),t.qZA()),2&m){const l=h.$implicit;t.oxw(2);const _=t.MAs(1);t.ekj("current",_.getCurrent()===l.value)("ellipsis","..."===l.label),t.xp6(1),t.Q6J("ngIf",_.getCurrent()!==l.value),t.xp6(1),t.Q6J("ngIf",_.getCurrent()===l.value)}}function y(m,h){if(1&m){const l=t.EpF();t.TgZ(0,"a",12),t.NdJ("keyup.enter",function(){t.CHM(l),t.oxw(3);const T=t.MAs(1);return t.KtG(T.next())})("click",function(){t.CHM(l),t.oxw(3);const T=t.MAs(1);return t.KtG(T.next())}),t._uU(1),t.TgZ(2,"span",13),t._uU(3),t.qZA()()}if(2&m){const l=t.oxw(3);t.xp6(1),t.hij(" ",l.nextLabel," "),t.xp6(2),t.Oqu(l.screenReaderPageLabel)}}function p(m,h){if(1&m&&(t.TgZ(0,"span",14),t._uU(1),t.TgZ(2,"span",13),t._uU(3),t.qZA()()),2&m){const l=t.oxw(3);t.xp6(1),t.hij(" ",l.nextLabel," "),t.xp6(2),t.Oqu(l.screenReaderPageLabel)}}function I(m,h){if(1&m&&(t.TgZ(0,"li",17),t.YNc(1,y,4,2,"a",10),t.YNc(2,p,4,2,"span",11),t.qZA()),2&m){t.oxw(2);const l=t.MAs(1);t.ekj("disabled",l.isLastPage()),t.xp6(1),t.Q6J("ngIf",!l.isLastPage()),t.xp6(1),t.Q6J("ngIf",l.isLastPage())}}function C(m,h){if(1&m&&(t.TgZ(0,"ul",4),t.YNc(1,b,3,4,"li",5),t.TgZ(2,"li",6),t._uU(3),t.qZA(),t.YNc(4,P,3,6,"li",7),t.YNc(5,I,3,4,"li",8),t.qZA()),2&m){const l=t.oxw(),_=t.MAs(1);t.ekj("responsive",l.responsive),t.xp6(1),t.Q6J("ngIf",l.directionLinks),t.xp6(2),t.AsE(" ",_.getCurrent()," / ",_.getLastPage()," "),t.xp6(1),t.Q6J("ngForOf",_.pages)("ngForTrackBy",l.trackByIndex),t.xp6(1),t.Q6J("ngIf",l.directionLinks)}}class D{constructor(){this.change=new t.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(h){return null==h.id&&(h.id=this.DEFAULT_ID),this.instances[h.id]?this.updateInstance(h):(this.instances[h.id]=h,!0)}updateInstance(h){let l=!1;for(let _ in this.instances[h.id])h[_]!==this.instances[h.id][_]&&(this.instances[h.id][_]=h[_],l=!0);return l}getCurrentPage(h){return this.instances[h]?this.instances[h].currentPage:1}setCurrentPage(h,l){if(this.instances[h]){let _=this.instances[h];l<=Math.ceil(_.totalItems/_.itemsPerPage)&&1<=l&&(this.instances[h].currentPage=l,this.change.emit(h))}}setTotalItems(h,l){this.instances[h]&&0<=l&&(this.instances[h].totalItems=l,this.change.emit(h))}setItemsPerPage(h,l){this.instances[h]&&(this.instances[h].itemsPerPage=l,this.change.emit(h))}getInstance(h=this.DEFAULT_ID){return this.instances[h]?this.clone(this.instances[h]):{}}clone(h){var l={};for(var _ in h)h.hasOwnProperty(_)&&(l[_]=h[_]);return l}}const L=Number.MAX_SAFE_INTEGER;let w=(()=>{class m{constructor(l){this.service=l,this.state={}}transform(l,_){if(!(l instanceof Array)){let A=_.id||this.service.defaultId();return this.state[A]?this.state[A].slice:l}let Z,W,T=_.totalItems&&_.totalItems!==l.length,M=this.createInstance(l,_),O=M.id,k=M.itemsPerPage,x=this.service.register(M);if(!T&&l instanceof Array){if(k=+k||L,Z=(M.currentPage-1)*k,W=Z+k,this.stateIsIdentical(O,l,Z,W))return this.state[O].slice;{let n=l.slice(Z,W);return this.saveState(O,l,n,Z,W),this.service.change.emit(O),n}}return x&&this.service.change.emit(O),this.saveState(O,l,l,Z,W),l}createInstance(l,_){return this.checkConfig(_),{id:null!=_.id?_.id:this.service.defaultId(),itemsPerPage:+_.itemsPerPage||0,currentPage:+_.currentPage||1,totalItems:+_.totalItems||l.length}}checkConfig(l){const T=["itemsPerPage","currentPage"].filter(M=>!(M in l));if(0<T.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${T.join(", ")}`)}saveState(l,_,T,M,O){this.state[l]={collection:_,size:_.length,slice:T,start:M,end:O}}stateIsIdentical(l,_,T,M){let O=this.state[l];return!(!O||O.size!==_.length||O.start!==T||O.end!==M)&&O.slice.every((W,k)=>W===_[T+k])}}return m.\u0275fac=function(l){return new(l||m)(t.Y36(D,16))},m.\u0275pipe=t.Yjl({name:"paginate",type:m,pure:!1}),m})(),V=(()=>{class m{constructor(l,_){this.service=l,this.changeDetectorRef=_,this.maxSize=7,this.pageChange=new t.vpe,this.pageBoundsCorrection=new t.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(T=>{this.id===T&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(l){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(l){this.pageChange.emit(l)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let l=this.service.getInstance(this.id);return l.totalItems<1?1:Math.ceil(l.totalItems/l.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let l=this.service.getInstance(this.id);const _=this.outOfBoundCorrection(l);_!==l.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(_),this.pages=this.createPageArray(l.currentPage,l.itemsPerPage,l.totalItems,this.maxSize)}):this.pages=this.createPageArray(l.currentPage,l.itemsPerPage,l.totalItems,this.maxSize)}outOfBoundCorrection(l){const _=Math.ceil(l.totalItems/l.itemsPerPage);return _<l.currentPage&&0<_?_:l.currentPage<1?1:l.currentPage}createPageArray(l,_,T,M){M=+M;let O=[];const Z=Math.max(Math.ceil(T/_),1),W=Math.ceil(M/2),k=l<=W,x=Z-W<l,A=!k&&!x;let n=M<Z,a=1;for(;a<=Z&&a<=M;){let f,d=this.calculatePageNumber(a,l,M,Z),S=2===a&&(A||x),U=a===M-1&&(A||k);f=n&&(S||U)?"...":d,O.push({label:f,value:d}),a++}return O}calculatePageNumber(l,_,T,M){let O=Math.ceil(T/2);return l===T?M:1===l?l:T<M?M-O<_?M-T+l:O<_?_-O+l:l:l}}return m.\u0275fac=function(l){return new(l||m)(t.Y36(D),t.Y36(t.sBO))},m.\u0275dir=t.lG2({type:m,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[t.TTD]}),m})();function N(m){return!!m&&"false"!==m}let Y=(()=>{class m{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new t.vpe,this.pageBoundsCorrection=new t.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(l){this._directionLinks=N(l)}get autoHide(){return this._autoHide}set autoHide(l){this._autoHide=N(l)}get responsive(){return this._responsive}set responsive(l){this._responsive=N(l)}trackByIndex(l){return l}}return m.\u0275fac=function(l){return new(l||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(l,_){if(1&l&&(t.TgZ(0,"pagination-template",0,1),t.NdJ("pageChange",function(M){return _.pageChange.emit(M)})("pageBoundsCorrection",function(M){return _.pageBoundsCorrection.emit(M)}),t.TgZ(2,"nav",2),t.YNc(3,C,6,8,"ul",3),t.qZA()()),2&l){const T=t.MAs(1);t.Q6J("id",_.id)("maxSize",_.maxSize),t.xp6(2),t.uIk("aria-label",_.screenReaderPaginationLabel),t.xp6(1),t.Q6J("ngIf",!(_.autoHide&&T.pages.length<=1))}},dependencies:[V,e.O5,e.sg,e.JJ],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),m})(),J=(()=>{class m{}return m.\u0275fac=function(l){return new(l||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({providers:[D],imports:[[e.ez]]}),m})()}}]);